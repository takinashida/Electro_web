#  Electronic_web API

Веб-приложение на **Django + Django REST Framework** для управления иерархической сетью по продаже электроники.  
Приложение включает **админ-панель** и **REST API** с разграничением прав доступа.

---

##  Функциональность

###  Модель сети продаж

Сеть представляет собой **иерархическую структуру из трёх уровней**:

- **Завод**
    
- **Розничная сеть**
    
- **Индивидуальный предприниматель**
    

Каждое звено сети:

- ссылается **только на одного поставщика**
    
- поставщик не обязательно должен быть предыдущим уровнем
    
- уровень определяется **логически**, а не полем в БД
    

---

###  Данные звена сети

Каждое звено содержит:

- название
    
- контактную информацию:
    
    - email
        
    - страна
        
    - город
        
    - улица
        
    - номер дома
        
- поставщика
    
- задолженность перед поставщиком (decimal, до копеек)
    
- дату создания (заполняется автоматически)
    

---

###  Продукты

Каждое звено сети может иметь несколько продуктов:

- название
    
- модель
    
- дата выхода на рынок
    
- связь с конкретным звеном сети
    

---

##  Админ-панель Django

В админке реализовано:

- отображение всех звеньев сети и продуктов
    
- фильтрация звеньев по **городу**
    
- поиск по названию
    
- ссылка на поставщика
    
- **admin action** для массового обнуления задолженности
    

###  Admin Action

Доступно массовое действие:

> **«Очистить задолженность перед поставщиком»**

Позволяет обнулить задолженность сразу у нескольких выбранных объектов.

---

##  REST API (DRF)

###  NetworkNode API

Реализован полный CRUD:

- `GET /network-nodes/`
    
- `POST /network-nodes/`
    
- `GET /network-nodes/{id}/`
    
- `PUT /network-nodes/{id}/`
    
- `PATCH /network-nodes/{id}/`
    
- `DELETE /network-nodes/{id}/`
    

 Ограничение:

- поле **`debt`** доступно **только для чтения** через API
    

 Фильтрация:

- фильтрация по **стране**
    

`GET /network-nodes/?country=France`

---

###  Product API

Полный CRUD для продуктов:

- `GET /products/`
    
- `POST /products/`
    
- `GET /products/{id}/`
    
- `PUT /products/{id}/`
    
- `PATCH /products/{id}/`
    
- `DELETE /products/{id}/`
    

Пример запроса:

`{   "name": "iPhone",   "model": "15 Pro",   "release_date": "2024-09-20",   "network_node": 1 }`

---

##  Права доступа

Доступ к API имеют **только активные сотрудники**:

- `is_active = True`
    
- `is_staff = True`
    

Используется стандартное разрешение DRF:

`IsAdminUser`

---

##  База данных

- Все модели создаются через **Django migrations**
    
- Используются связи:
    
    - `ForeignKey`
        
    - `related_name`
        
- Поддерживается каскадное удаление продуктов при удалении звена сети
    

---

##  Установка и запуск

`git clone <repo_url> cd electronics_network python -m venv venv source venv/bin/activate pip install -r requirements.txt python manage.py migrate python manage.py createsuperuser python manage.py runserver`

Админ-панель:

`http://127.0.0.1:8000/admin/`

API:

`http://127.0.0.1:8000/api/`

---

##  Используемые технологии

- Python 3
    
- Django
    
- Django REST Framework
    
- django-filter
    
- SQLite / PostgreSQL
    
- Django Admin
    

---

##  Соответствие требованиям

✔ Иерархическая модель сети  
✔ Один поставщик у каждого звена  
✔ Продукты  
✔ Админ-панель  
✔ Admin action  
✔ Фильтрация (город / страна)  
✔ CRUD API  
✔ Ограничение изменения задолженности  
✔ Доступ только для сотрудников